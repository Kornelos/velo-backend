package pl.edu.pw.mini.velobackend.api.strava

import com.github.tomakehurst.wiremock.client.WireMock
import com.github.tomakehurst.wiremock.client.WireMock.get
import com.github.tomakehurst.wiremock.client.WireMock.stubFor
import com.github.tomakehurst.wiremock.client.WireMock.urlMatching
import kotlinx.serialization.json.Json
import kotlinx.serialization.json.JsonArray
import kotlinx.serialization.json.decodeFromJsonElement
import kotlinx.serialization.json.jsonArray
import org.amshove.kluent.`should be instance of`
import org.junit.jupiter.api.BeforeAll
import org.junit.jupiter.api.Test
import org.springframework.beans.factory.annotation.Autowired
import pl.edu.pw.mini.velobackend.api.BasicEndpointTest
import pl.edu.pw.mini.velobackend.infrastructure.strava.StravaAuthService
import pl.edu.pw.mini.velobackend.infrastructure.strava.StravaUser
import pl.edu.pw.mini.velobackend.infrastructure.strava.model.StravaUserRepositoryMock
import pl.edu.pw.mini.velobackend.infrastructure.strava.model.SummaryActivity
import java.time.Instant
import java.time.LocalDateTime
import java.util.UUID

class StravaImportTest : BasicEndpointTest() {
    @Autowired
    lateinit var stravaAuthService: StravaAuthService

    @Autowired
    lateinit var stravaUserRepositoryMock: StravaUserRepositoryMock

    val stravaUser = StravaUser(1, "accessToken", "refreshToken",
            LocalDateTime.now().plusHours(1), UUID.randomUUID())


    @Test
    fun `should parse mock data`() {
        //given
        stravaUserRepositoryMock.addStravaUser(stravaUser)
        val response = stravaAuthService.updateWorkoutsFor(stravaUser.athleteId!!, Instant.now(), Instant.MIN)

        //when

        val workouts: JsonArray = Json.parseToJsonElement(response).jsonArray
        val parsed = workouts.map { Json { ignoreUnknownKeys = true }.decodeFromJsonElement<SummaryActivity>(it) }

        //then
        parsed.map { it `should be instance of` SummaryActivity::class }
    }

    companion object {
        private const val responseActivities = "[{\"resource_state\":2,\"athlete\":{\"id\":628749,\"resource_state\":1},\"name\":\"Wycieczka rowerowa\",\"distance\":41409.5,\"moving_time\":7223,\"elapsed_time\":13005,\"total_elevation_gain\":147.0,\"type\":\"Ride\",\"workout_type\":10,\"id\":4053407681,\"external_id\":\"garmin_push_5530224050\",\"upload_id\":4338012427,\"start_date\":\"2020-09-13T08:31:08Z\",\"start_date_local\":\"2020-09-13T10:31:08Z\",\"timezone\":\"(GMT+01:00) Europe/Warsaw\",\"utc_offset\":7200.0,\"start_latlng\":[50.746286,23.24434],\"end_latlng\":[50.734568,23.255361],\"location_city\":null,\"location_state\":null,\"location_country\":\"Poland\",\"start_latitude\":50.746286,\"start_longitude\":23.24434,\"achievement_count\":0,\"kudos_count\":8,\"comment_count\":0,\"athlete_count\":1,\"photo_count\":0,\"map\":{\"id\":\"a4053407681\",\"summary_polyline\":\"gkvtHc|zlC_@LaCnBwMnJaG`EYd@qCbROfDE|B|Cvd@L`C@dA_@bDyA~Ha@vA[~Bs@dDgAjC}KtT{@nAuBxEoFlKgDzIcG|NsDzGeA|AmApBsAtC}CzFWt@]bCAxDP~K?rAEd@VnZN`EClBRnSKjD_ArD{K`^{Mjb@o@xCaBnM_AfGElAa@jDqDvXeDxWoC`U[fD}@hGuBdQe@vEo@~EOh@aGlf@St@GjAg@jCEbAsB~O]lDMd@QL@D\\\\q@OCF\\\\DGEKK@BZJ]E^?MHGGJIn@sDry@e@tFmDdUwDbUiAxI[zA}BrPq@pGiD|WaAxFk@|Aq@z@gBfA{@HcBUyCoAy@E{RaG{@?mFm@aALo@^mA|AoChFm@dA_@`@sFzJaFbGwAxBwLdOqBnBkAlBqCjD{AhC{BnFmA~B]rAgUjj@Wt@UhA^xJVfApBnQlDfQJfAl@bDZjDA~@wBf]a@nFQpAEfBcAjRcQprCSfDCfBgAbRYhGc@rGS~Ep@`@xPqEjR_EvDBdALf@Rp@lAdAhDf@dAvAzA`BdC\\\\`@@IEBNThA~@l`@hNvI?NPf@pAs@rLQnHWtBSJGUJ?IPDJVMJjAIaDLkABKB@CGD@FwGh@cKOMeBZgCJi@W{AmBo^yMqBcAyDmFmAsAkCeHw@c@{DQ_BJiLbCgWrGWz@W~Ae@Zj@UDS|@{Kd@sIA_@bB}XBuB|Q}xCbAaSNaAt@_L|AaWBwB]yCcAgGwCoNoBwPg@}CM}BSmADiDHe@fFoMNk@d@w@tLoY|@sCvCqG`AmB~@aBzDaFn@iAlAeAhKcMpDkFlEkFhByC`CoEhA{A~CaGtAiBfAc@r@EfGn@bS|FhAJbAj@hBh@vALx@QbAo@tAgBRe@\\\\yAn@eEjDmXt@oHzDmXL_Bj@iClIoh@XgDhEa~@pC_UP}Bb@gCZ}B~F_f@r@uEX_DvDaZjAsKxGoi@\\\\aBl@}E`CaSLsBb@_CdBeNh@qDt@qClMca@tA_FpJyZTkDYiZI_AWu\\\\BiBQiM?}@ReDfAeDxBsD`BeDt@gAhF_JvIcTtAoDT{@pHuN\\\\kAfAaBpK}SfA_CZ_Aj@eCb@}C\\\\sA|AkIPkALsB}Cke@S}DJ{@BiBF}@|BwO^cBV_@b^sVb@g@bEkCDEIs@RU`X}QAw@LsA^Uv@Kb@UTcAD_CDW|@q@H[?oCj@UDUGeEHmBtCS\\\\k@hCS]aN`Ki@b@hKVNxBYb@a@CM\",\"resource_state\":2},\"trainer\":false,\"commute\":false,\"manual\":false,\"private\":false,\"visibility\":\"everyone\",\"flagged\":false,\"gear_id\":\"b5703866\",\"from_accepted_tag\":false,\"upload_id_str\":\"4338012427\",\"average_speed\":5.733,\"max_speed\":11.8,\"average_cadence\":73.7,\"average_temp\":23,\"average_watts\":159.2,\"kilojoules\":1149.6,\"device_watts\":false,\"has_heartrate\":true,\"average_heartrate\":109.4,\"max_heartrate\":148.0,\"heartrate_opt_out\":false,\"display_hide_heartrate_option\":true,\"elev_high\":205.2,\"elev_low\":137.0,\"pr_count\":0,\"total_photo_count\":0,\"has_kudoed\":false},{\"resource_state\":2,\"athlete\":{\"id\":628749,\"resource_state\":1},\"name\":\"Sosnowica maraton\",\"distance\":41414.2,\"moving_time\":5657,\"elapsed_time\":5657,\"total_elevation_gain\":114.0,\"type\":\"Ride\",\"workout_type\":11,\"id\":4049036850,\"external_id\":\"garmin_push_5525755159\",\"upload_id\":4333400250,\"start_date\":\"2020-09-12T10:41:26Z\",\"start_date_local\":\"2020-09-12T12:41:26Z\",\"timezone\":\"(GMT+01:00) Europe/Warsaw\",\"utc_offset\":7200.0,\"start_latlng\":[51.521599,23.109368],\"end_latlng\":[51.522204,23.105455],\"location_city\":null,\"location_state\":null,\"location_country\":\"Poland\",\"start_latitude\":51.521599,\"start_longitude\":23.109368,\"achievement_count\":4,\"kudos_count\":12,\"comment_count\":0,\"athlete_count\":4,\"photo_count\":0,\"map\":{\"id\":\"a4049036850\",\"summary_polyline\":\"}xmyHop`lCe@vFF`@zJiKl@kHh@eRjAy@`l@kGIw@cBsA?aDx@iAlAgDz@BPUdBmEr@}C@gJmK}Hp@eA|@sC|AqHbe@{x@m@s@aSaLI}BxDkSn@y@d@v@f@gB^[R_CuE}DM_@GcCRuBEmITaIKgCx@eLf@eMB{Ci@oKYcNR}Fw@iBcBDBbIyEnWkAg@sJ{HaGoFaBiB_BsCeByA{@Yo@tEkCdEe@nAi@`DBbA\\\\`BzBfGlGt[jDxL`@fCh@t@jCzAh@~@KvAuFjZ{ATit@}b@]hAcI`f@aA|NcAzZuFkCeNyIqAq@If@dAnCj@jDo@bDe@rFZhAdJd@dErBlFtDx@fFbAzD|CpQj@dFnDdFtBt@~AK|Av@PdFIrAb@jKdCfCAfDaHp`@aCfYf@E|ImJj@wGf@iRd@s@|Cs@rh@wFq@eA_As@KqCrAeC@gAbAm@^FfBsDnAiEHwGSuBsIsGMcAtAoD|AsHde@kx@eAmAqR_LB_CtDmSd@e@l@v@X_AjAiBOcBuDsCc@u@SqAXqDImGTmI?{Hp@aIb@}Nc@cLU_NJqHmAoCeAb@JhGcFdYmAe@wRwPqBuBaAkBmCsC]Zq@zEa@`AyBpCYjA_@fCXrCpC`JrB`LjCrL`E|ORt@lDdC^l@sEjYu@jCsAAeB_Akp@o`@o@dAwHdd@kAzNeAt\\\\QHoDiB_RsL[XrAnE\\\\~BoAbKx@pBfIDhBt@hItFt@`FlAdFp@rF|@rDnAjJlD`FfC|@tBU`AlBJpDIrA`@tJ~@jBnAhA@fBqHbc@uBrWp@@rIeJZqBVwGV}NlA_AvCi@dScBdSeCJS[e@yAgAC_DpAaDfAcAj@B\\\\k@|AsDp@oDNuH]q@eB_B{GyErAsCxB}Jde@{x@u@y@wRyKSgBjEsTz@[Pl@n@{AfAsAYwAqDmCk@eAIiDLcBM_OFaETqFf@eFj@gNq@mRGcKLgGy@aC_BVJ|F_@fCuD~S}@l@iTkR]s@qAiAaAmBsCmCa@pAm@rEwAnBkAdC]zBRbDvChJ|A~I`CnJ`@nCpEpPdDlC^n@?fAwDhUm@`Dg@fAu\\\\_RyWmPq@v@oHtb@sAhPqAf]cF{BaOuJc@WUpAv@vBd@lCq@|De@bFdArAtHD~EfC`FnDZ`DdAdEvAfJpAjFn@lGtA`CpB~BjCp@jB[^\\\\^dFMdBb@jKx@nArAbAFdAiAjIgFlYoEpi@\",\"resource_state\":2},\"trainer\":false,\"commute\":false,\"manual\":false,\"private\":false,\"visibility\":\"everyone\",\"flagged\":false,\"gear_id\":\"b5703866\",\"from_accepted_tag\":false,\"upload_id_str\":\"4333400250\",\"average_speed\":7.321,\"max_speed\":12.7,\"average_cadence\":86.0,\"average_temp\":18,\"average_watts\":240.1,\"kilojoules\":1358.2,\"device_watts\":false,\"has_heartrate\":true,\"average_heartrate\":185.3,\"max_heartrate\":196.0,\"heartrate_opt_out\":false,\"display_hide_heartrate_option\":true,\"elev_high\":194.8,\"elev_low\":163.0,\"pr_count\":0,\"total_photo_count\":0,\"has_kudoed\":false},{\"resource_state\":2,\"athlete\":{\"id\":628749,\"resource_state\":1},\"name\":\"Lunch Ride\",\"distance\":9176.5,\"moving_time\":1470,\"elapsed_time\":1601,\"total_elevation_gain\":18.0,\"type\":\"Ride\",\"workout_type\":null,\"id\":4049036340,\"external_id\":\"garmin_push_5525754811\",\"upload_id\":4333399825,\"start_date\":\"2020-09-12T10:11:12Z\",\"start_date_local\":\"2020-09-12T12:11:12Z\",\"timezone\":\"(GMT+01:00) Europe/Warsaw\",\"utc_offset\":7200.0,\"start_latlng\":[51.52153,23.109792],\"end_latlng\":[51.521595,23.109357],\"location_city\":null,\"location_state\":null,\"location_country\":\"Poland\",\"start_latitude\":51.52153,\"start_longitude\":23.109792,\"achievement_count\":0,\"kudos_count\":5,\"comment_count\":0,\"athlete_count\":2,\"photo_count\":0,\"map\":{\"id\":\"a4049036340\",\"summary_polyline\":\"qxmyHes`lCn@iJ`@iDd@eDtAsHZaCv@aEzAmJEk@yB{A_@cBKoDSgCHoBEyEmAsAc@HwABaAWe@Si@m@}AuBq@cAUkA_@aEs@aDQi@|@pDn@|FPr@r@dAj@dAjAtAn@^`APd@Bp@G`@O^@j@rBPjDG~ANhCHzBBdBHt@p@p@pAbA@vBqDbSmAfHi@vDa@rDq@jKOfA@V@??OTsC^wFDcA^yDd@gDlA{G^kCnAqH^cBr@aEe@aA{AoAS_@]_HMgBD}CI}D{A_AYFYBsBa@e@OuAuAe@w@y@mAWeA]{DMu@uAaGu@wFaBkHKeAm@oAeCcBgBqAaAm@m@Ms@e@gFEaAFy@KDBlCArEJv@d@h@J|BxAb@^|CrB\\\\nAJtANp@b@~ANb@`@dBn@xEbBbIPbC^jCd@n@t@nAv@z@LTb@\\\\v@Xn@Lv@Aj@QNC^FVZHj@RrEErCX~DBpBJx@NTxB~AD~@gBbKo@lCq@hEqAbHa@rCW|B]bGc@|FQjBK`B^Ch@y@x@aArEkEr@_ARiBVmF?wBNmIAfDKrFi@pJe@dAcEhEi@n@aA|@a@h@SDA]ZkD@SCAa@~EYj@y@SIGRJ`@Hh@MRwDLiADG@i@\",\"resource_state\":2},\"trainer\":false,\"commute\":false,\"manual\":false,\"private\":false,\"visibility\":\"everyone\",\"flagged\":false,\"gear_id\":\"b1409639\",\"from_accepted_tag\":false,\"upload_id_str\":\"4333399825\",\"average_speed\":6.243,\"max_speed\":11.2,\"average_cadence\":84.9,\"average_temp\":19,\"average_watts\":84.0,\"kilojoules\":123.4,\"device_watts\":false,\"has_heartrate\":true,\"average_heartrate\":159.1,\"max_heartrate\":184.0,\"heartrate_opt_out\":false,\"display_hide_heartrate_option\":true,\"elev_high\":169.4,\"elev_low\":163.4,\"pr_count\":0,\"total_photo_count\":0,\"has_kudoed\":false},{\"resource_state\":2,\"athlete\":{\"id\":628749,\"resource_state\":1},\"name\":\"Afternoon Ride\",\"distance\":19473.0,\"moving_time\":2993,\"elapsed_time\":3032,\"total_elevation_gain\":60.0,\"type\":\"Ride\",\"workout_type\":null,\"id\":4044773537,\"external_id\":\"garmin_push_5521337179\",\"upload_id\":4328909087,\"start_date\":\"2020-09-11T11:06:22Z\",\"start_date_local\":\"2020-09-11T13:06:22Z\",\"timezone\":\"(GMT+01:00) Europe/Warsaw\",\"utc_offset\":7200.0,\"start_latlng\":[50.735075,23.252878],\"end_latlng\":[50.734545,23.255461],\"location_city\":null,\"location_state\":null,\"location_country\":\"Poland\",\"start_latitude\":50.735075,\"start_longitude\":23.252878,\"achievement_count\":0,\"kudos_count\":10,\"comment_count\":0,\"athlete_count\":1,\"photo_count\":0,\"map\":{\"id\":\"a4044773537\",\"summary_polyline\":\"eettHmq|lCDVWfGAl@@h@CZEFODsCHmBPiBJ_CHuBPm@j@a@DGBGFb@|AVtB`BxHx@hDbCfHjBxH~Qlo@Nd@Hh@_@xBcAzCs@rCKbAWnAmAtAmBb@gB|@m@n@aB`@o@r@kFbKoAzBwBfEmHfMkA|BkAhCk@z@sAwAY}@kAyI]gAo@aAc@w@K}Ce@iAYSo@WyAQgB}@{@S]CmC{@Y@Yt@CTFx@Qn@D^?XBJXR?GQkACCMD@~@DNJJFJEp@j@hCE_@[m@Ea@Bw@a@{A`@HDRCd@OEEKM}@VeABq@I[GHKZPXAVM^JjAHLJBDA@BHYi@]CMFa@FiAOWSZ{AWSy@]LLhAt@bLJzBBlCbJnrARtD?XO~AKl@HdAl@?tCgAHGRi@GmJ?}Cl@sBhFaKjE{ItAsCjCcGvCeGh@v@p@bDt@~C|GnXdAvDp@~CnA|EnMji@hBxGR|@XlB~@nPx@zTDpD?r@[xBs@fDYbBF`C\\\\lDnBdQHfAJp@XDx@a@jBq@pCw@~CuAp@WnF_BfAe@n@m@X_@E{@BYHMAFMHA`@Dn@ALKNYBCJgApH[`B_C~N}AjIo@vEk@dDsAfIGb@D@dCePL_At@mEB]zAeI|@aGdAeGb@aDh@{CFiA?kAM_KKsFEoAOkNEkH_@_LcAgPYcGwAiPqAwL]qDu@iJc@eGSoBQgBg@{HS_CaAoJ}@}HGm@Dk@n@[zB[bEw@nZ}GrBm@lMiErEwAnBaAnEmD~AwAJq@?SS{HIcHsAwx@Cu@Gq@Mk@Iy@e@cAK]Zi@K_@}DuFsE}FsBeCcDmDGGa@@CeDmAiBi@i@gADgEzCe@q@Ec@EEE?DFV@`A_@NSEGaBh@BHVDzCy@M`@e@p@aGfEyIdGWy@o@oEO{A]sE_AsKSkCC}@OiA[mDSqASAIe@QWk@@[QCMIcCE_EM_Gm@]aAFgAJgF^Oq@CoDYuBs@KUJM^KlAChACF_@?oBOgBIk@A{@HOECYBM\",\"resource_state\":2},\"trainer\":false,\"commute\":false,\"manual\":false,\"private\":false,\"visibility\":\"everyone\",\"flagged\":false,\"gear_id\":\"b1409639\",\"from_accepted_tag\":false,\"upload_id_str\":\"4328909087\",\"average_speed\":6.506,\"max_speed\":11.7,\"average_cadence\":83.8,\"average_temp\":17,\"average_watts\":99.2,\"kilojoules\":296.9,\"device_watts\":false,\"has_heartrate\":true,\"average_heartrate\":141.5,\"max_heartrate\":185.0,\"heartrate_opt_out\":false,\"display_hide_heartrate_option\":true,\"elev_high\":220.8,\"elev_low\":156.4,\"pr_count\":0,\"total_photo_count\":0,\"has_kudoed\":false}]"
        private const val responseStreams = "{\"distance\":{\"data\":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,23.6,41.8,58.2,62.3,66.2,69.7,77.7,81.5,85.3,89.2,93.1,97.0,100.9,104.7,108.7,112.5,116.3,120.1,124.2,128.2,132.2,140.0,147.8,155.8,163.7,171.7,179.8,187.8,196.1,204.1,216.2,228.1,240.7,249.2,262.1,279.0,296.4,309.7,318.8,328.6,344.7,378.3,395.2,406.1,417.0,449.7,479.3,491.8,510.9,543.2,556.5,563.1,576.3,589.4,595.9,608.3,668.0,690.3,714.6,720.8,783.8,826.8,887.4,909.5,933.1,945.3,958.2,971.4,978.4,993.0,1006.5,1072.7,1135.7,1177.8,1239.8,1244.7,1305.8,1336.7,1357.6,1368.6,1415.1,1440.0,1458.8,1500.4,1517.7,1529.1,1582.6,1619.1,1624.2,1639.8,1660.7,1681.7,1697.8,1708.6,1773.8,1837.5,1899.9,1961.2,1987.8,2051.8,2108.0,2113.1,2173.7,2193.4,2217.9,2248.0,2263.7,2285.2,2319.1,2341.9,2353.6,2365.7,2378.0,2396.8,2451.2,2465.9,2504.8,2513.1,2537.6,2545.8,2570.2,2602.0,2647.4,2667.5,2703.6,2714.3,2724.5,2739.3,2756.2,2798.1,2857.7,2869.2,2880.6,2897.8,2932.0,2973.1,2984.6,3012.3,3039.7,3061.1,3081.8,3091.1,3105.3,3109.7,3124.6,3150.8,3161.4,3222.2,3285.3,3346.8,3355.8,3369.9,3419.9,3485.6,3547.2,3568.1,3596.3,3624.8,3632.3,3654.7,3662.0,3669.1,3676.3,3690.8,3718.9,3738.2,3744.3,3762.8,3823.7,3876.2,3923.0,3963.6,3980.9,3986.9,3999.9,4014.5,4022.0,4036.3,4056.1,4062.4,4088.4,4094.9,4156.3,4191.9,4202.7,4213.1,4223.4,4233.6,4243.7,4263.1,4277.9,4302.5,4326.6,4345.9,4387.8,4392.5,4412.6,4428.5,4460.4,4490.9,4506.1,4516.5,4547.5,4557.7,4616.4,4626.8,4686.9,4709.1,4742.4,4797.4,4818.5,4879.8,4943.2,4984.7,5028.0,5089.4,5114.1,5132.8,5194.0,5236.8,5298.1,5359.3,5371.2,5389.3,5420.2,5463.8,5529.0,5592.2,5653.8,5675.8,5692.1,5719.6,5783.8,5848.7,5892.0,5929.3,5985.4,6050.1,6067.3,6091.3,6103.2,6165.7,6225.9,6288.0,6303.9,6325.4,6385.5,6413.7,6475.0,6535.7,6562.9,6619.2,6647.4,6653.0,6679.6,6684.6,6704.1,6708.7,6771.1,6809.3,6832.2,6844.0,6873.5,6939.4,6976.6,7006.6,7024.9,7073.9,7085.8,7103.5,7115.2,7148.9,7187.5,7198.6,7204.2,7269.2,7330.1,7378.1,7431.8,7456.6,7475.9,7514.4,7524.1,7559.5,7601.5,7616.8,7672.6,7688.5,7694.1,7711.1,7721.9,7741.5,7775.9,7790.1,7799.9,7837.5,7894.3,7918.8,7979.1,8002.4,8066.3,8082.7,8087.9,8092.7,8093.9,8097.0,8120.9,8122.8,8136.3,8147.6,8153.0,8158.8,8165.6,8176.4,8184.9,8191.7,8192.7,8199.5,8205.4,8206.4,8207.0,8208.0,8210.1,8214.3,8215.7,8217.8,8220.1,8223.5,8226.2,8228.5,8244.8,8261.0,8272.7,8336.3,8355.2,8399.8,8460.3,8476.0,8515.2,8578.6,8592.0,8612.3,8639.1,8699.6,8717.2,8733.5,8787.4,8802.1,8816.4,8830.7,8850.4,8865.0,8884.4,8913.8,8978.3,9003.2,9028.1,9037.9,9058.1,9083.9,9099.4,9120.0,9135.1,9196.5,9256.7,9271.9,9282.3,9345.2,9410.3,9437.3,9453.8,9513.8,9534.1,9541.4,9549.1,9566.1,9575.7,9595.5,9614.8,9633.7,9670.9,9679.9,9688.9,9706.3,9723.5,9747.6,9769.9,9777.2,9791.5,9805.6,9833.8,9899.5,9917.5,9929.7,9994.0,10018.6,10083.1,10127.1,10153.0,10185.0,10196.3,10261.5,10273.4,10297.2,10315.4,10334.1,10340.3,10353.2,10370.4,10396.8,10406.0,10410.7,10438.3,10451.8,10460.7,10487.3,10504.9,10538.5,10550.6,10583.9,10611.7,10641.1,10662.5,10679.2,10695.3,10715.8,10731.0,10763.7,10769.0,10800.5,10864.7,10894.1,10930.3,10973.9,11018.9,11084.6,11128.6,11146.2,11162.7,11224.7,11269.2,11282.5,11295.7,11308.7,11313.2,11332.3,11361.3,11393.0,11416.2,11463.1,11477.4,11531.9,11566.8,11588.7,11594.1,11635.3,11697.9,11712.6,11734.8,11757.2,11779.4,11786.9,11802.2,11826.0,11850.6,11867.2,11875.6,11935.1,11950.1,11976.3,11988.7,12000.7,12029.0,12045.3,12077.5,12088.5,12099.8,12110.9,12126.9,12167.3,12179.2,12242.0,12306.1,12319.5,12361.4,12380.9,12393.9,12400.0,12405.7,12438.0,12502.7,12520.9,12539.1,12569.5,12578.4,12582.9,12592.2,12601.3,12610.6,12619.7,12655.9,12719.8,12735.7,12741.0,12761.6,12781.5,12801.0,12816.3,12842.3,12862.9,12927.1,12943.5,13008.6,13039.5,13088.2,13151.7,13182.8,13213.6,13244.5,13286.3,13337.0,13401.2,13429.7,13446.5,13461.1,13469.8,13481.8,13498.3,13498.7,13503.0,13511.8,13525.7,13554.6,13559.5,13583.3,13633.6,13659.3,13675.0,13739.7,13800.8,13862.9,13885.9,13948.5,13964.6,14008.9,14028.9,14055.3,14118.1,14181.4,14187.0,14204.1,14220.8,14258.6,14322.2,14388.1,14451.8,14489.7,14551.4,14557.7,14601.8,14614.1,14626.1,14638.2,14644.2,14656.6,14669.0,14694.0,14706.2,14718.1,14729.9,14742.8,14756.7,14795.3,14857.0,14893.7,14916.9,14928.1,14971.4,15010.9,15023.0,15052.6,15065.6,15126.0,15161.5,15207.2,15255.9,15272.3,15337.5,15379.7,15401.3,15462.8,15523.1,15578.5,15640.2,15702.0,15768.1,15785.3,15795.3,15858.1,15878.9,15894.1,15899.1,15960.0,16011.6,16043.1,16058.6,16090.0,16128.8,16145.7,16206.6,16238.5,16259.2,16318.7,16357.6,16367.3,16411.0,16474.7,16537.8,16563.4,16623.3,16683.7,16688.8,16721.0,16774.1,16802.7,16864.3,16897.0,16940.3,16980.8,17010.3,17035.4,17098.7,17134.4,17165.1,17214.3,17249.8,17307.4,17329.2,17375.5,17412.7,17432.0,17438.4,17502.2,17539.3,17570.1,17576.1,17588.1,17649.6,17685.1,17747.3,17814.5,17851.0,17865.8,17896.2,17927.2,17958.1,17987.6,18029.5,18043.0,18069.2,18092.6,18103.6,18115.1,18120.6,18132.1,18144.1,18156.1,18174.1,18180.0,18191.7,18203.1,18214.3,18225.4,18236.7,18247.6,18257.6,18272.0,18290.9,18296.0,18311.8,18345.0,18368.0,18388.4,18391.9,18396.6,18408.2,18413.5,18455.4,18478.1,18489.9,18501.6,18518.8,18535.9,18553.0,18582.2,18605.4,18617.3,18680.6,18715.0,18726.3,18754.4,18777.5,18789.1,18850.7,18884.6,18949.8,19015.7,19075.8,19100.8,19120.3,19126.8,19158.9,19171.7,19178.1,19226.6,19267.0,19277.9,19298.0,19314.8,19345.3,19354.8,19419.8,19470.9,19496.2,19532.3,19559.7,19573.3,19579.2,19588.4,19594.7,19606.2,19619.5,19623.4,19625.2,19631.4,19635.3,19637.5,19639.7,19643.6,19645.3,19648.6,19652.4,19655.5,19657.0,19658.1,19663.9,19668.8,19669.9,19670.7,19671.6,19677.1,19680.9,19682.2,19684.9,19692.7,19700.6,19707.8,19712.8,19713.1,19715.3,19717.1,19735.1,19737.2,19740.8,19743.3,19745.1,19746.4,19747.3,19748.6,19748.6,19748.6,19748.6,19749.4,19750.3,19752.1,19752.7,19753.2,19753.2,19753.2,19753.3,19755.5,19758.1,19758.8,19761.9,19763.7,19770.1,19770.1,19772.8,19777.9,19787.3,19806.3,19813.9,19828.0,19830.0,19834.8,19845.1,19863.0,19870.0,19883.1,19946.8,19970.7,20002.0,20012.2,20019.8,20060.9,20069.5,20121.4,20137.9,20145.8,20158.2,20162.2,20170.2,20186.1,20230.7,20234.6,20287.0,20320.0,20382.9,20430.9,20441.2,20477.3,20482.7,20487.9,20504.3,20520.7,20559.7,20564.4,20626.2,20653.3,20718.0,20763.4,20772.9,20787.2,20820.8,20889.1,20901.8,20936.7,20958.9,20972.6,20987.1,21022.4,21027.7,21074.6,21145.5,21153.8,21179.1,21204.5,21212.9,21238.1,21246.8,21263.2,21285.7,21299.0,21317.0,21332.7,21342.9,21364.5,21386.2,21396.8,21417.7,21429.4,21441.6,21453.7,21465.8,21484.1,21502.0,21508.0,21525.9,21543.1,21565.4,21587.7,21616.2,21638.7,21660.1,21700.2,21728.8,21756.7,21817.0,21828.3,21868.0,21885.3,21902.5,21908.2,21929.0,21966.8,21992.7,22003.5,22035.6,22056.0,22070.9,22081.0,22106.7,22128.3,22143.0,22152.8,22167.3,22167.3,22167.3,22167.4,22167.4,22169.1,22170.9,22171.5,22171.6,22171.6,22171.6,22171.6,22171.7,22171.7,22171.7,22171.7,22171.7,22171.7,22171.7,22171.7,22171.7,22171.7,22171.8,22171.8,22171.8,22171.8,22171.9,22171.9,22172.0,22172.0,22172.0,22172.1,22172.1,22172.7,22178.2,22183.6,22198.1,22205.8,22220.4,22285.4,22355.2,22367.4,22379.6,22414.7,22425.7,22476.9,22482.8,22488.6,22552.3,22612.7,22677.8,22695.8,22732.4,22786.7,22828.0,22860.4,22896.5,22962.1,23027.3,23080.9,23101.4,23136.4,23200.9,23215.4,23279.9,23308.8,23337.8,23403.0,23466.8,23529.8,23571.3,23602.2,23615.0,23619.3,23619.3,23619.3,23619.3,23619.3,23619.4,23619.4,23619.4,23619.4,23619.4,23619.4,23619.6,23619.6,23619.6,23619.7,23619.7,23619.7,23619.7,23619.7,23619.7,23619.9,23620.7,23634.1,23636.7,23660.0,23693.7,23709.6,23773.7,23825.0,23847.5,23863.6,23879.8,23903.7,23942.6,24003.4,24049.4,24087.5,24152.2,24212.6,24259.7,24307.1,24347.1,24362.8,24409.0,24457.8,24490.1,24514.2,24555.6,24598.6,24624.1,24632.3,24664.0,24687.0,24754.3,24777.1,24827.7,24853.0,24917.4,24980.0,25002.8,25018.4,25041.5,25071.8,25138.0,25202.6,25250.5,25279.2,25321.5,25378.0,25399.7,25453.4,25478.8,25519.8,25527.3,25589.2,25612.6,25673.5,25703.1,25769.1,25830.2,25868.0,25882.9,25935.5,25943.1,25965.8,25987.9,26002.9,26018.1,26039.9,26078.1,26092.5,26112.9,26119.6,26139.4,26205.2,26241.1,26259.1,26301.2,26319.3,26336.2,26347.8,26412.0,26476.8,26503.4,26556.4,26588.7,26601.7,26667.4,26733.8,26765.1,26796.7,26827.7,26872.8,26924.7,26955.2,26978.3,27019.7,27028.3,27055.1,27073.0,27091.0,27108.6,27134.2,27142.5,27159.4,27168.3,27196.4,27247.2,27278.7,27339.4,27359.7,27372.3,27384.5,27416.6,27450.4,27457.4,27517.7,27585.4,27594.1,27646.9,27672.5,27732.6,27753.8,27789.0,27810.1,27830.5,27869.2,27900.9,27932.0,27971.9,27995.4,28025.2,28037.5,28050.2,28075.1,28086.7,28098.1,28103.9,28115.8,28133.6,28152.3,28212.7,28241.0,28255.1,28276.6,28283.9,28291.4,28307.1,28315.3,28349.0,28381.3,28403.7,28417.9,28424.8,28431.7,28459.3,28466.0,28523.0,28565.3,28582.9,28611.8,28623.5,28677.3,28738.5,28767.4,28802.2,28842.8,28860.5,28884.2,28944.6,28994.2,29014.0,29027.4,29047.8,29068.7,29129.6,29146.6,29183.0,29192.6,29230.6,29257.4,29320.2,29385.4,29407.1,29460.6,29526.1,29560.2,29624.5,29653.2,29671.9,29710.3,29750.2,29799.1,29864.3,29905.6,29913.2,29976.9,29994.5,30012.1,30035.8,30066.7,30116.4,30134.8,30165.6,30196.9,30215.9,30235.2,30267.7,30293.7,30306.7,30319.7,30374.4,30386.2,30425.3,30441.0,30474.0,30498.8,30530.7,30570.4,30597.3,30631.7,30695.9,30759.7,30768.3,30794.1,30862.3,30878.8,30919.0,30942.0,30972.9,31030.1,31057.3,31070.9,31090.9,31097.4,31110.2,31142.7,31189.9,31252.8,31281.8,31319.8,31352.1,31392.2,31408.8,31457.1,31488.4,31551.7,31613.4,31636.4,31658.8,31710.9,31725.3,31739.1,31745.5,31758.5,31792.8,31848.5,31876.4,31941.2,31956.1,32017.0,32047.7,32078.6,32133.5,32148.9,32156.7,32220.7,32228.5,32302.1,32346.1,32360.5,32396.4,32459.5,32487.3,32528.9,32576.8,32636.9,32682.6,32723.6,32787.8,32830.8,32893.9,32958.0,32991.8,33053.1,33118.1,33185.3,33239.4,33303.5,33335.5,33351.2,33373.8,33433.9,33456.3,33478.2,33492.4,33554.3,33613.4,33633.1,33653.3,33694.3,33708.0,33735.6,33763.5,33785.1,33835.8,33850.2,33886.6,33908.1,33950.8,33965.9,34032.3,34054.2,34092.1,34154.0,34184.8,34252.4,34313.7,34336.3,34375.8,34408.9,34471.9,34521.3,34555.7,34596.9,34648.0,34679.0,34742.9,34775.6,34841.2,34873.6,34890.0,34959.2,35023.3,35086.0,35129.9,35175.3,35214.1,35277.8,35283.0,35288.1,35308.5,35326.8,35335.6,35344.2,35352.4,35395.0,35418.4,35466.6,35530.9,35554.9,35603.7,35620.0,35660.2,35676.4,35708.7,35753.3,35760.1,35790.9,35813.5,35840.6,35868.2,35908.1,35953.1,35974.6,36017.6,36034.8,36085.4,36092.4,36099.4,36106.4,36120.4,36167.1,36199.6,36245.7,36265.6,36279.2,36299.5,36318.8,36325.1,36355.0,36373.0,36437.2,36498.9,36561.5,36627.4,36656.4,36712.4,36733.0,36804.9,36856.8,36882.9,36897.6,36902.4,36907.2,36930.5,36952.6,36974.9,37006.8,37041.0,37065.1,37094.9,37152.9,37169.6,37184.9,37194.8,37220.2,37237.0,37254.0,37259.7,37324.2,37330.4,37380.1,37425.1,37438.3,37492.5,37499.4,37562.4,37623.5,37650.8,37704.2,37750.2,37763.2,37797.3,37840.0,37861.5,37925.3,37953.9,37996.2,38015.8,38080.2,38119.6,38147.1,38208.4,38221.6,38241.3,38260.8,38279.9,38298.9,38335.1,38347.0,38364.7,38393.7,38426.4,38438.2,38444.0,38449.7,38473.7,38479.5,38506.4,38528.5,38566.0,38588.4,38630.2,38692.5,38742.9,38761.5,38790.0,38829.7,38834.4,38838.1,38845.7,38866.1,38889.6,38904.6,38924.3,38936.4,38952.9,38957.0,38999.6,39026.6,39058.5,39072.1,39076.7,39122.6,39187.0,39204.5,39235.6,39241.8,39260.0,39272.0,39296.4,39315.1,39327.8,39366.9,39433.2,39453.5,39466.6,39478.1,39509.7,39515.8,39577.4,39583.1,39597.7,39601.2,39617.4,39621.0,39634.5,39695.6,39757.7,39783.4,39833.9,39864.9,39883.6,39908.2,39926.6,39992.2,40030.1,40064.4,40079.2,40094.0,40109.6,40120.0,40130.2,40152.3,40179.4,40184.1,40203.3,40235.6,40256.4,40278.9,40283.5,40298.2,40316.1,40328.7,40338.5,40345.8,40378.0,40389.7,40415.8,40440.3,40465.3,40474.3,40484.1,40544.4,40583.4,40601.5,40645.6,40666.9,40671.2,40690.6,40710.2,40731.5,40736.8,40752.0,40768.1,40797.9,40829.1,40843.2,40907.8,40939.5,40968.0,40993.5,40998.9,41030.5,41041.3,41057.6,41100.0,41109.8,41156.2,41156.2,41156.2,41156.8,41160.9,41168.7,41178.2,41213.5,41225.7,41267.8,41291.6,41297.3,41313.1,41318.8,41335.9,41380.5,41406.2,41409.1,41409.5],\"series_type\":\"distance\",\"original_size\":1586,\"resolution\":\"high\"}}"

        @BeforeAll
        @JvmStatic
        fun setup() {
            stubFor(get(urlMatching("/athlete/activities.*"))
                    .willReturn(WireMock.aResponse()
                            .withHeader("Content-Type", "application/json")
                            .withBody(responseActivities)
                    ))
        }
    }
}
